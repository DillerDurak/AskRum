{%extends 'main/base.html'%}

{%block content%}
  <main class="profile-page layout layout--3">
    <div class="container">
      <!-- Topics Start -->
      {%include 'main/topics_component.html'%}
      <!-- Topics End -->
      <!-- Room List Start -->
      <div class="roomList">
        <div class="profile">
          <div class="profile__avatar">
          {%if user.is_online%}
             <div class="avatar avatar--large active">
                {%if user.imageURL%}
                    <img src="{{user.imageURL}}">
                {%else%}
                    <img src="https://avatars.dicebear.com/api/bottts/{{user.username}}.svg" />
                {%endif%}
            </div>
            {%else%}
             <div class="avatar avatar--large">
                {%if user.imageURL%}
                    <img src="{{user.imageURL}}">
                {%else%}
                    <img src="https://avatars.dicebear.com/api/bottts/{{user.username}}.svg" />
                {%endif%}
            </div>
            {%endif%}
          </div>
          <div class="profile__info">
            <h3>{{user.name}}</h3>
            <p>@{{user.username}}</p>
            <div>
                {%if user.get_online_info == 'Offline'%}
                    <p style="color: #FF3300; display: inline-block; opacity: 0.7; ">{{user.get_online_info}}</p>
                    <div style="display: inline-block; vertical-align: top;">
                        <?xml version="1.0" ?><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M18.364 5.63605C21.8787 9.15077 21.8787 14.8493 18.364 18.364M18.364 18.364L15.5355 15.5355M18.364 18.364L21 21M15.5355 8.46447C17.4882 10.4171 17.4882 13.5829 15.5355 15.5355M15.5355 15.5355L12.7071 12.7071M8.46447 15.5355C7.66839 14.7395 7.19687 13.7417 7.04991 12.7068M5.63604 18.364C3.13732 15.8652 2.41501 12.2628 3.46913 9.12598M11.2929 11.2929C11.4739 11.1119 11.7239 11 12 11C12.5523 11 13 11.4477 13 12C13 12.2761 12.8881 12.5261 12.7071 12.7071M11.2929 11.2929L3 3M11.2929 11.2929L12.7071 12.7071" stroke="rgba(102,102,102, 0.8)" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
                   </div>
                {%else%}
                    <p style="color: #5DD693; display: inline-block;">{{user.get_online_info}}</p>
                    <div style="display: inline-block; vertical-align: top;">
                        <?xml version="1.0" ?><svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M5.63604 18.3639C2.12132 14.8492 2.12132 9.15071 5.63604 5.63599M18.364 5.63599C21.8787 9.15071 21.8787 14.8492 18.364 18.3639M8.46447 15.5355C6.51184 13.5829 6.51184 10.417 8.46447 8.46441M15.5355 8.46441C17.4882 10.417 17.4882 13.5829 15.5355 15.5355M13 11.9999C13 12.5522 12.5523 12.9999 12 12.9999C11.4477 12.9999 11 12.5522 11 11.9999C11 11.4477 11.4477 10.9999 12 10.9999C12.5523 10.9999 13 11.4477 13 11.9999Z" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
                    </div>
                {%endif%}
            </div>
            {%if user == request.user%}
              <a href="{%url 'update-user'%}" class="btn btn--main btn--pill">Edit Profile</a>
            {%endif%}
          </div>
          <div class="profile__about">
            <h3>About</h3>
            <p>
              {{user.bio}}
            </p>
          </div>
        </div>

        <div class="roomList__header">
          <div>
            <h2>Study Rooms Hosted by {{user.username}}</a>
            </h2>
          </div>
        </div>
        {%include 'main/feed_component.html'%}
      </div>
      <!-- Room List End -->

      <!-- Activities Start -->
      {%include 'main/activity_component.html'%}
      <!-- Activities End -->
    </div>
  </main>
{%endblock%}